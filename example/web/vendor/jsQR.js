var we=Object.defineProperty,be=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable,z=Math.pow,q=(o,e,r)=>e in o?we(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,ee=(o,e)=>{for(var r in e||(e={}))ye.call(e,r)&&q(o,r,e[r]);if(J)for(var r of J(e))xe.call(e,r)&&q(o,r,e[r]);return o},oe=(o,e)=>be(o,he(e));var I=class{static createEmpty(e,r){return new I(new Uint8ClampedArray(e*r),e)}constructor(e,r){this.width=r,this.height=e.length/r,this.data=e}get(e,r){return e<0||e>=this.width||r<0||r>=this.height?!1:!!this.data[r*this.width+e]}set(e,r,s){this.data[r*this.width+e]=s?1:0}setRegion(e,r,s,t,c){for(let n=r;n<r+t;n++)for(let l=e;l<e+s;l++)this.set(l,n,!!c)}};var N=8,ge=24;function re(o,e,r){return o<e?e:o>r?r:o}var _=class{constructor(e,r,s){this.width=e;let t=e*r;if(s&&s.length!==t)throw new Error("Wrong buffer size");this.data=s||new Uint8ClampedArray(t)}get(e,r){return this.data[r*this.width+e]}set(e,r,s){this.data[r*this.width+e]=s}};function te(o,e,r,s,t,c){let n=e*r;if(o.length!==n*4)throw new Error("Malformed data passed to binarizer.");let l=0,d;c&&(d=new Uint8ClampedArray(o.buffer,l,n),l+=n);let i=new _(e,r,d);if(t.useIntegerApproximation)for(let a=0;a<r;a++)for(let k=0;k<e;k++){let P=(a*e+k)*4,B=o[P],f=o[P+1],p=o[P+2];i.set(k,a,t.red*B+t.green*f+t.blue*p+128>>8)}else for(let a=0;a<r;a++)for(let k=0;k<e;k++){let P=(a*e+k)*4,B=o[P],f=o[P+1],p=o[P+2];i.set(k,a,t.red*B+t.green*f+t.blue*p)}let m=Math.ceil(e/N),u=Math.ceil(r/N),C=m*u,b;c&&(b=new Uint8ClampedArray(o.buffer,l,C),l+=C);let w=new _(m,u,b);for(let a=0;a<u;a++)for(let k=0;k<m;k++){let P=1/0,B=0;for(let y=0;y<N;y++)for(let M=0;M<N;M++){let A=i.get(k*N+M,a*N+y);P=Math.min(P,A),B=Math.max(B,A)}let f=(P+B)/2;if(f=Math.min(255,f*1.11),B-P<=ge&&(f=P/2,a>0&&k>0)){let y=(w.get(k,a-1)+2*w.get(k-1,a)+w.get(k-1,a-1))/4;P<y&&(f=y)}w.set(k,a,f)}let h;if(c){let a=new Uint8ClampedArray(o.buffer,l,n);l+=n,h=new I(a,e)}else h=I.createEmpty(e,r);let g=null;if(s)if(c){let a=new Uint8ClampedArray(o.buffer,l,n);g=new I(a,e)}else g=I.createEmpty(e,r);for(let a=0;a<u;a++)for(let k=0;k<m;k++){let P=re(k,2,m-3),B=re(a,2,u-3),f=0;for(let y=-2;y<=2;y++)for(let M=-2;M<=2;M++)f+=w.get(P+y,B+M);let p=f/25;for(let y=0;y<N;y++)for(let M=0;M<N;M++){let A=k*N+y,Q=a*N+M,L=i.get(A,Q);h.set(A,Q,L<=p),s&&g.set(A,Q,!(L<=p))}}return s?{binarized:h,inverted:g}:{binarized:h}}var Y=class{constructor(e){this.byteOffset=0;this.bitOffset=0;this.bytes=e}readBits(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");let r=0;if(this.bitOffset>0){let s=8-this.bitOffset,t=e<s?e:s,c=s-t,n=255>>8-t<<c;r=(this.bytes[this.byteOffset]&n)>>c,e-=t,this.bitOffset+=t,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)r=r<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,e-=8;if(e>0){let s=8-e,t=255>>s<<s;r=r<<e|(this.bytes[this.byteOffset]&t)>>s,this.bitOffset+=e}}return r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}};var R;(function(n){n.Numeric="numeric",n.Alphanumeric="alphanumeric",n.Byte="byte",n.Kanji="kanji",n.ECI="eci",n.StructuredAppend="structuredappend"})(R||(R={}));var E;(function(l){l[l.Terminator=0]="Terminator",l[l.Numeric=1]="Numeric",l[l.Alphanumeric=2]="Alphanumeric",l[l.Byte=4]="Byte",l[l.Kanji=8]="Kanji",l[l.ECI=7]="ECI",l[l.StructuredAppend=3]="StructuredAppend"})(E||(E={}));function pe(o,e){let r=[],s="",t=[10,12,14][e],c=o.readBits(t);for(;c>=3;){let n=o.readBits(10);if(n>=1e3)throw new Error("Invalid numeric value above 999");let l=Math.floor(n/100),d=Math.floor(n/10)%10,i=n%10;r.push(48+l,48+d,48+i),s+=l.toString()+d.toString()+i.toString(),c-=3}if(c===2){let n=o.readBits(7);if(n>=100)throw new Error("Invalid numeric value above 99");let l=Math.floor(n/10),d=n%10;r.push(48+l,48+d),s+=l.toString()+d.toString()}else if(c===1){let n=o.readBits(4);if(n>=10)throw new Error("Invalid numeric value above 9");r.push(48+n),s+=n.toString()}return{bytes:r,text:s}}var U=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ve(o,e){let r=[],s="",t=[9,11,13][e],c=o.readBits(t);for(;c>=2;){let n=o.readBits(11),l=Math.floor(n/45),d=n%45;r.push(U[l].charCodeAt(0),U[d].charCodeAt(0)),s+=U[l]+U[d],c-=2}if(c===1){let n=o.readBits(6);r.push(U[n].charCodeAt(0)),s+=U[n]}return{bytes:r,text:s}}function Me(o,e){let r=[],s="",t=[8,16,16][e],c=o.readBits(t);for(let n=0;n<c;n++){let l=o.readBits(8);r.push(l)}try{s+=decodeURIComponent(r.map(n=>`%${("0"+n.toString(16)).substr(-2)}`).join(""))}catch(n){}return{bytes:r,text:s}}function Ae(o,e){let r=[],s=[8,10,12][e],t=o.readBits(s);for(let n=0;n<t;n++){let l=o.readBits(13),d=Math.floor(l/192)<<8|l%192;d<7936?d+=33088:d+=49472,r.push(d>>8,d&255)}let c=new TextDecoder("shift-jis").decode(Uint8Array.from(r));return{bytes:r,text:c}}function se(o,e){let r=new Y(o),s=e<=9?0:e<=26?1:2,t={text:"",bytes:[],chunks:[],version:e};for(;r.available()>=4;){let c=r.readBits(4);if(c===0)return t;if(c===7)r.readBits(1)===0?t.chunks.push({type:R.ECI,assignmentNumber:r.readBits(7)}):r.readBits(1)===0?t.chunks.push({type:R.ECI,assignmentNumber:r.readBits(14)}):r.readBits(1)===0?t.chunks.push({type:R.ECI,assignmentNumber:r.readBits(21)}):t.chunks.push({type:R.ECI,assignmentNumber:-1});else if(c===1){let n=pe(r,s);t.text+=n.text,t.bytes.push(...n.bytes),t.chunks.push({type:R.Numeric,text:n.text})}else if(c===2){let n=ve(r,s);t.text+=n.text,t.bytes.push(...n.bytes),t.chunks.push({type:R.Alphanumeric,text:n.text})}else if(c===4){let n=Me(r,s);t.text+=n.text,t.bytes.push(...n.bytes),t.chunks.push({type:R.Byte,bytes:n.bytes,text:n.text})}else if(c===8){let n=Ae(r,s);t.text+=n.text,t.bytes.push(...n.bytes),t.chunks.push({type:R.Kanji,bytes:n.bytes,text:n.text})}else c===3&&t.chunks.push({type:R.StructuredAppend,currentSequence:r.readBits(4),totalSequence:r.readBits(4),parity:r.readBits(8)})}if(r.available()===0||r.readBits(r.available())===0)return t}var v=class{constructor(e,r){if(r.length===0)throw new Error("No coefficients.");this.field=e;let s=r.length;if(s>1&&r[0]===0){let t=1;for(;t<s&&r[t]===0;)t++;if(t===s)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(s-t);for(let c=0;c<this.coefficients.length;c++)this.coefficients[c]=r[t+c]}}else this.coefficients=r}degree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}addOrSubtract(e){if(this.isZero())return e;if(e.isZero())return this;let r=this.coefficients,s=e.coefficients;r.length>s.length&&([r,s]=[s,r]);let t=new Uint8ClampedArray(s.length),c=s.length-r.length;for(let n=0;n<c;n++)t[n]=s[n];for(let n=c;n<s.length;n++)t[n]=D(r[n-c],s[n]);return new v(this.field,t)}multiply(e){if(e===0)return this.field.zero;if(e===1)return this;let r=this.coefficients.length,s=new Uint8ClampedArray(r);for(let t=0;t<r;t++)s[t]=this.field.multiply(this.coefficients[t],e);return new v(this.field,s)}multiplyPoly(e){if(this.isZero()||e.isZero())return this.field.zero;let r=this.coefficients,s=r.length,t=e.coefficients,c=t.length,n=new Uint8ClampedArray(s+c-1);for(let l=0;l<s;l++){let d=r[l];for(let i=0;i<c;i++)n[l+i]=D(n[l+i],this.field.multiply(d,t[i]))}return new v(this.field,n)}multiplyByMonomial(e,r){if(e<0)throw new Error("Invalid degree less than 0");if(r===0)return this.field.zero;let s=this.coefficients.length,t=new Uint8ClampedArray(s+e);for(let c=0;c<s;c++)t[c]=this.field.multiply(this.coefficients[c],r);return new v(this.field,t)}evaluateAt(e){let r=0;if(e===0)return this.getCoefficient(0);let s=this.coefficients.length;if(e===1)return this.coefficients.forEach(t=>{r=D(r,t)}),r;r=this.coefficients[0];for(let t=1;t<s;t++)r=D(this.field.multiply(e,r),this.coefficients[t]);return r}};function D(o,e){return o^e}var j=class{constructor(e,r,s){this.primitive=e,this.size=r,this.generatorBase=s,this.expTable=new Array(this.size),this.logTable=new Array(this.size);let t=1;for(let c=0;c<this.size;c++)this.expTable[c]=t,t=t*2,t>=this.size&&(t=(t^this.primitive)&this.size-1);for(let c=0;c<this.size-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new v(this,Uint8ClampedArray.from([0])),this.one=new v(this,Uint8ClampedArray.from([1]))}multiply(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.size-1)]}inverse(e){if(e===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]}buildMonomial(e,r){if(e<0)throw new Error("Invalid monomial degree less than 0");if(r===0)return this.zero;let s=new Uint8ClampedArray(e+1);return s[0]=r,new v(this,s)}log(e){if(e===0)throw new Error("Can't take log(0)");return this.logTable[e]}exp(e){return this.expTable[e]}};function Le(o,e,r,s){e.degree()<r.degree()&&([e,r]=[r,e]);let t=e,c=r,n=o.zero,l=o.one;for(;c.degree()>=s/2;){let m=t,u=n;if(t=c,n=l,t.isZero())return null;c=m;let C=o.zero,b=t.getCoefficient(t.degree()),w=o.inverse(b);for(;c.degree()>=t.degree()&&!c.isZero();){let h=c.degree()-t.degree(),g=o.multiply(c.getCoefficient(c.degree()),w);C=C.addOrSubtract(o.buildMonomial(h,g)),c=c.addOrSubtract(t.multiplyByMonomial(h,g))}if(l=C.multiplyPoly(n).addOrSubtract(u),c.degree()>=t.degree())return null}let d=l.getCoefficient(0);if(d===0)return null;let i=o.inverse(d);return[l.multiply(i),c.multiply(i)]}function Ie(o,e){let r=e.degree();if(r===1)return[e.getCoefficient(1)];let s=new Array(r),t=0;for(let c=1;c<o.size&&t<r;c++)e.evaluateAt(c)===0&&(s[t]=o.inverse(c),t++);return t!==r?null:s}function Fe(o,e,r){let s=r.length,t=new Array(s);for(let c=0;c<s;c++){let n=o.inverse(r[c]),l=1;for(let d=0;d<s;d++)c!==d&&(l=o.multiply(l,D(1,o.multiply(r[d],n))));t[c]=o.multiply(e.evaluateAt(n),o.inverse(l)),o.generatorBase!==0&&(t[c]=o.multiply(t[c],n))}return t}function ne(o,e){let r=new Uint8ClampedArray(o.length);r.set(o);let s=new j(285,256,0),t=new v(s,r),c=new Uint8ClampedArray(e),n=!1;for(let u=0;u<e;u++){let C=t.evaluateAt(s.exp(u+s.generatorBase));c[c.length-1-u]=C,C!==0&&(n=!0)}if(!n)return r;let l=new v(s,c),d=Le(s,s.buildMonomial(e,1),l,e);if(d===null)return null;let i=Ie(s,d[0]);if(i==null)return null;let m=Fe(s,d[1],i);for(let u=0;u<i.length;u++){let C=r.length-1-s.log(i[u]);if(C<0)return null;r[C]=D(r[C],m[u])}return r}var W=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}];function Z(o,e){let r=o^e,s=0;for(;r;)s++,r&=r-1;return s}function O(o,e){return e<<1|o}var Re=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],Ne=[o=>(o.y+o.x)%2==0,o=>o.y%2==0,o=>o.x%3==0,o=>(o.y+o.x)%3==0,o=>(Math.floor(o.y/2)+Math.floor(o.x/3))%2==0,o=>o.x*o.y%2+o.x*o.y%3==0,o=>(o.y*o.x%2+o.y*o.x%3)%2==0,o=>((o.y+o.x)%2+o.y*o.x%3)%2==0];function ze(o){let e=17+4*o.versionNumber,r=I.createEmpty(e,e);r.setRegion(0,0,9,9,!0),r.setRegion(e-8,0,8,9,!0),r.setRegion(0,e-8,9,8,!0);for(let s of o.alignmentPatternCenters)for(let t of o.alignmentPatternCenters)s===6&&t===6||s===6&&t===e-7||s===e-7&&t===6||r.setRegion(s-2,t-2,5,5,!0);return r.setRegion(6,9,1,e-17,!0),r.setRegion(9,6,e-17,1,!0),o.versionNumber>6&&(r.setRegion(e-11,0,3,6,!0),r.setRegion(0,e-11,6,3,!0)),r}function Ee(o,e,r){let s=Ne[r.dataMask],t=o.height,c=ze(e),n=[],l=0,d=0,i=!0;for(let m=t-1;m>0;m-=2){m===6&&m--;for(let u=0;u<t;u++){let C=i?t-1-u:u;for(let b=0;b<2;b++){let w=m-b;if(!c.get(w,C)){d++;let h=o.get(w,C);s({y:C,x:w})&&(h=!h),l=O(h,l),d===8&&(n.push(l),d=0,l=0)}}}i=!i}return n}function Se(o){let e=o.height,r=Math.floor((e-17)/4);if(r<=6)return W[r-1];let s=0;for(let l=5;l>=0;l--)for(let d=e-9;d>=e-11;d--)s=O(o.get(d,l),s);let t=0;for(let l=5;l>=0;l--)for(let d=e-9;d>=e-11;d--)t=O(o.get(l,d),t);let c=1/0,n;for(let l of W){if(l.infoBits===s||l.infoBits===t)return l;let d=Z(s,l.infoBits);d<c&&(n=l,c=d),d=Z(t,l.infoBits),d<c&&(n=l,c=d)}if(c<=3)return n}function Ge(o){let e=0;for(let n=0;n<=8;n++)n!==6&&(e=O(o.get(n,8),e));for(let n=7;n>=0;n--)n!==6&&(e=O(o.get(8,n),e));let r=o.height,s=0;for(let n=r-1;n>=r-7;n--)s=O(o.get(8,n),s);for(let n=r-8;n<r;n++)s=O(o.get(n,8),s);let t=1/0,c=null;for(let{bits:n,formatInfo:l}of Re){if(n===e||n===s)return l;let d=Z(e,n);d<t&&(c=l,t=d),e!==s&&(d=Z(s,n),d<t&&(c=l,t=d))}return t<=3?c:null}function De(o,e,r){let s=e.errorCorrectionLevels[r],t=[],c=0;if(s.ecBlocks.forEach(l=>{for(let d=0;d<l.numBlocks;d++)t.push({numDataCodewords:l.dataCodewordsPerBlock,codewords:[]}),c+=l.dataCodewordsPerBlock+s.ecCodewordsPerBlock}),o.length<c)return null;o=o.slice(0,c);let n=s.ecBlocks[0].dataCodewordsPerBlock;for(let l=0;l<n;l++)for(let d of t)d.codewords.push(o.shift());if(s.ecBlocks.length>1){let l=s.ecBlocks[0].numBlocks,d=s.ecBlocks[1].numBlocks;for(let i=0;i<d;i++)t[l+i].codewords.push(o.shift())}for(;o.length>0;)for(let l of t)l.codewords.push(o.shift());return t}function ce(o){let e=Se(o);if(!e)return null;let r=Ge(o);if(!r)return null;let s=Ee(o,e,r),t=De(s,e,r.errorCorrectionLevel);if(!t)return null;let c=t.reduce((d,i)=>d+i.numDataCodewords,0),n=new Uint8ClampedArray(c),l=0;for(let d of t){let i=ne(d.codewords,d.codewords.length-d.numDataCodewords);if(!i)return null;for(let m=0;m<d.numDataCodewords;m++)n[l++]=i[m]}try{return se(n,e.versionNumber)}catch(d){return null}}function le(o){if(o==null)return null;let e=ce(o);if(e)return e;for(let r=0;r<o.width;r++)for(let s=r+1;s<o.height;s++)o.get(r,s)!==o.get(s,r)&&(o.set(r,s,!o.get(r,s)),o.set(s,r,!o.get(s,r)));return ce(o)}function de(o,e,r,s){let t=o.x-e.x+r.x-s.x,c=o.y-e.y+r.y-s.y;if(t===0&&c===0)return{a11:e.x-o.x,a12:e.y-o.y,a13:0,a21:r.x-e.x,a22:r.y-e.y,a23:0,a31:o.x,a32:o.y,a33:1};{let n=e.x-r.x,l=s.x-r.x,d=e.y-r.y,i=s.y-r.y,m=n*i-l*d,u=(t*i-l*c)/m,C=(n*c-t*d)/m;return{a11:e.x-o.x+u*e.x,a12:e.y-o.y+u*e.y,a13:u,a21:s.x-o.x+C*s.x,a22:s.y-o.y+C*s.y,a23:C,a31:o.x,a32:o.y,a33:1}}}function Te(o,e,r,s){let t=de(o,e,r,s);return{a11:t.a22*t.a33-t.a23*t.a32,a12:t.a13*t.a32-t.a12*t.a33,a13:t.a12*t.a23-t.a13*t.a22,a21:t.a23*t.a31-t.a21*t.a33,a22:t.a11*t.a33-t.a13*t.a31,a23:t.a13*t.a21-t.a11*t.a23,a31:t.a21*t.a32-t.a22*t.a31,a32:t.a12*t.a31-t.a11*t.a32,a33:t.a11*t.a22-t.a12*t.a21}}function Xe(o,e){return{a11:o.a11*e.a11+o.a21*e.a12+o.a31*e.a13,a12:o.a12*e.a11+o.a22*e.a12+o.a32*e.a13,a13:o.a13*e.a11+o.a23*e.a12+o.a33*e.a13,a21:o.a11*e.a21+o.a21*e.a22+o.a31*e.a23,a22:o.a12*e.a21+o.a22*e.a22+o.a32*e.a23,a23:o.a13*e.a21+o.a23*e.a22+o.a33*e.a23,a31:o.a11*e.a31+o.a21*e.a32+o.a31*e.a33,a32:o.a12*e.a31+o.a22*e.a32+o.a32*e.a33,a33:o.a13*e.a31+o.a23*e.a32+o.a33*e.a33}}function ae(o,e){let r=Te({x:3.5,y:3.5},{x:e.dimension-3.5,y:3.5},{x:e.dimension-6.5,y:e.dimension-6.5},{x:3.5,y:e.dimension-3.5}),s=de(e.topLeft,e.topRight,e.alignmentPattern,e.bottomLeft),t=Xe(s,r),c=I.createEmpty(e.dimension,e.dimension),n=(l,d)=>{let i=t.a13*l+t.a23*d+t.a33;return{x:(t.a11*l+t.a21*d+t.a31)/i,y:(t.a12*l+t.a22*d+t.a32)/i}};for(let l=0;l<e.dimension;l++)for(let d=0;d<e.dimension;d++){let i=d+.5,m=l+.5,u=n(i,m);c.set(d,l,o.get(Math.floor(u.x),Math.floor(u.y)))}return{matrix:c,mappingFunction:n}}var Oe=5,ie=.5,Be=1.5,S=(o,e)=>Math.sqrt(z(e.x-o.x,2)+z(e.y-o.y,2));function G(o){return o.reduce((e,r)=>e+r)}function Ue(o,e,r){let s=S(o,e),t=S(e,r),c=S(o,r),n,l,d;return t>=s&&t>=c?[n,l,d]=[e,o,r]:c>=t&&c>=s?[n,l,d]=[o,e,r]:[n,l,d]=[o,r,e],(d.x-l.x)*(n.y-l.y)-(d.y-l.y)*(n.x-l.x)<0&&([n,d]=[d,n]),{bottomLeft:n,topLeft:l,topRight:d}}function Qe(o,e,r,s){let t=(G(T(o,r,s,5))/7+G(T(o,e,s,5))/7+G(T(r,o,s,5))/7+G(T(e,o,s,5))/7)/4;if(t<1)throw new Error("Invalid module size");let c=Math.round(S(o,e)/t),n=Math.round(S(o,r)/t),l=Math.floor((c+n)/2)+7;switch(l%4){case 0:l++;break;case 2:l--;break}return{dimension:l,moduleSize:t}}function ke(o,e,r,s){let t=[{x:Math.floor(o.x),y:Math.floor(o.y)}],c=Math.abs(e.y-o.y)>Math.abs(e.x-o.x),n,l,d,i;c?(n=Math.floor(o.y),l=Math.floor(o.x),d=Math.floor(e.y),i=Math.floor(e.x)):(n=Math.floor(o.x),l=Math.floor(o.y),d=Math.floor(e.x),i=Math.floor(e.y));let m=Math.abs(d-n),u=Math.abs(i-l),C=Math.floor(-m/2),b=n<d?1:-1,w=l<i?1:-1,h=!0;for(let a=n,k=l;a!==d+b;a+=b){let P=c?k:a,B=c?a:k;if(r.get(P,B)!==h&&(h=!h,t.push({x:P,y:B}),t.length===s+1))break;if(C+=u,C>0){if(k===i)break;k+=w,C-=m}}let g=[];for(let a=0;a<s;a++)t[a]&&t[a+1]?g.push(S(t[a],t[a+1])):g.push(0);return g}function T(o,e,r,s){let t=e.y-o.y,c=e.x-o.x,n=ke(o,e,r,Math.ceil(s/2)),l=ke(o,{x:o.x-c,y:o.y-t},r,Math.ceil(s/2)),d=n.shift()+l.shift()-1;return l.concat(d).concat(...n)}function K(o,e){let r=G(o)/G(e),s=0;return e.forEach((t,c)=>{s+=z(o[c]-t*r,2)}),{averageSize:r,error:s}}function ue(o,e,r){try{let s=T(o,{x:-1,y:o.y},r,e.length),t=T(o,{x:o.x,y:-1},r,e.length),c={x:Math.max(0,o.x-o.y)-1,y:Math.max(0,o.y-o.x)-1},n=T(o,c,r,e.length),l={x:Math.min(r.width,o.x+o.y)+1,y:Math.min(r.height,o.y+o.x)+1},d=T(o,l,r,e.length),i=K(s,e),m=K(t,e),u=K(n,e),C=K(d,e),b=Math.sqrt(i.error*i.error+m.error*m.error+u.error*u.error+C.error*C.error),w=(i.averageSize+m.averageSize+u.averageSize+C.averageSize)/4,h=(z(i.averageSize-w,2)+z(m.averageSize-w,2)+z(u.averageSize-w,2)+z(C.averageSize-w,2))/w;return b+h}catch(s){return 1/0}}function H(o,e){let r=Math.round(e.x);for(;o.get(r,Math.round(e.y));)r--;let s=Math.round(e.x);for(;o.get(s,Math.round(e.y));)s++;let t=(r+s)/2,c=Math.round(e.y);for(;o.get(Math.round(t),c);)c--;let n=Math.round(e.y);for(;o.get(Math.round(t),n);)n++;let l=(c+n)/2;return{x:t,y:l}}function me(o){let e=[],r=[],s=[],t=[];for(let a=0;a<=o.height;a++){let k=0,P=!1,B=[0,0,0,0,0];for(let f=-1;f<=o.width;f++){let p=o.get(f,a);if(p===P)k++;else{B=[B[1],B[2],B[3],B[4],k],k=1,P=p;let y=G(B)/7,M=Math.abs(B[0]-y)<y&&Math.abs(B[1]-y)<y&&Math.abs(B[2]-3*y)<3*y&&Math.abs(B[3]-y)<y&&Math.abs(B[4]-y)<y&&!p,A=G(B.slice(-3))/3,Q=Math.abs(B[2]-A)<A&&Math.abs(B[3]-A)<A&&Math.abs(B[4]-A)<A&&p;if(M){let L=f-B[3]-B[4],F=L-B[2],X={startX:F,endX:L,y:a},V=r.filter(x=>F>=x.bottom.startX&&F<=x.bottom.endX||L>=x.bottom.startX&&F<=x.bottom.endX||F<=x.bottom.startX&&L>=x.bottom.endX&&B[2]/(x.bottom.endX-x.bottom.startX)<Be&&B[2]/(x.bottom.endX-x.bottom.startX)>ie);V.length>0?V[0].bottom=X:r.push({top:X,bottom:X})}if(Q){let L=f-B[4],F=L-B[3],X={startX:F,y:a,endX:L},V=t.filter(x=>F>=x.bottom.startX&&F<=x.bottom.endX||L>=x.bottom.startX&&F<=x.bottom.endX||F<=x.bottom.startX&&L>=x.bottom.endX&&B[2]/(x.bottom.endX-x.bottom.startX)<Be&&B[2]/(x.bottom.endX-x.bottom.startX)>ie);V.length>0?V[0].bottom=X:t.push({top:X,bottom:X})}}}e.push(...r.filter(f=>f.bottom.y!==a&&f.bottom.y-f.top.y>=2)),r=r.filter(f=>f.bottom.y===a),s.push(...t.filter(f=>f.bottom.y!==a)),t=t.filter(f=>f.bottom.y===a)}e.push(...r.filter(a=>a.bottom.y-a.top.y>=2)),s.push(...t);let c=[];for(let a of e){if(a.bottom.y-a.top.y<2)continue;let k=(a.top.startX+a.top.endX+a.bottom.startX+a.bottom.endX)/4,P=(a.top.y+a.bottom.y+1)/2;if(!o.get(Math.round(k),Math.round(P)))continue;let B=[a.top.endX-a.top.startX,a.bottom.endX-a.bottom.startX,a.bottom.y-a.top.y+1],f=G(B)/B.length,p=ue({x:Math.round(k),y:Math.round(P)},[1,1,3,1,1],o);c.push({score:p,x:k,y:P,size:f})}if(c.length<3)return null;c.sort((a,k)=>a.score-k.score);let n=[];for(let a=0;a<Math.min(c.length,Oe);++a){let k=c[a],P=[];for(let B of c)B!==k&&P.push(oe(ee({},B),{score:B.score+z(B.size-k.size,2)/k.size}));P.sort((B,f)=>B.score-f.score),n.push({points:[k,P[0],P[1]],score:k.score+P[0].score+P[1].score})}n.sort((a,k)=>a.score-k.score);let l=n[0],{topRight:d,topLeft:i,bottomLeft:m}=Ue(...l.points),u=Ce(o,s,d,i,m),C=[];u&&C.push({alignmentPattern:{x:u.alignmentPattern.x,y:u.alignmentPattern.y},bottomLeft:{x:m.x,y:m.y},dimension:u.dimension,topLeft:{x:i.x,y:i.y},topRight:{x:d.x,y:d.y}});let b=H(o,d),w=H(o,i),h=H(o,m),g=Ce(o,s,b,w,h);return g&&C.push({alignmentPattern:{x:g.alignmentPattern.x,y:g.alignmentPattern.y},bottomLeft:{x:h.x,y:h.y},topLeft:{x:w.x,y:w.y},topRight:{x:b.x,y:b.y},dimension:g.dimension}),C.length===0?null:C}function Ce(o,e,r,s,t){let c,n;try{({dimension:c,moduleSize:n}=Qe(s,r,t,o))}catch(b){return null}let l={x:r.x-s.x+t.x,y:r.y-s.y+t.y},d=(S(s,t)+S(s,r))/2/n,i=1-3/d,m={x:s.x+i*(l.x-s.x),y:s.y+i*(l.y-s.y)},u=e.map(b=>{let w=(b.top.startX+b.top.endX+b.bottom.startX+b.bottom.endX)/4,h=(b.top.y+b.bottom.y+1)/2;if(!o.get(Math.floor(w),Math.floor(h)))return;let a=ue({x:Math.floor(w),y:Math.floor(h)},[1,1,1],o)+S({x:w,y:h},m);return{x:w,y:h,score:a}}).filter(b=>!!b).sort((b,w)=>b.score-w.score);return{alignmentPattern:d>=15&&u.length?u[0]:m,dimension:c}}function Pe(o){let e=me(o);if(!e)return null;for(let r of e){let s=ae(o,r),t=le(s.matrix);if(t)return{binaryData:t.bytes,data:t.text,chunks:t.chunks,version:t.version,location:{topRightCorner:s.mappingFunction(r.dimension,0),topLeftCorner:s.mappingFunction(0,0),bottomRightCorner:s.mappingFunction(r.dimension,r.dimension),bottomLeftCorner:s.mappingFunction(0,r.dimension),topRightFinderPattern:r.topRight,topLeftFinderPattern:r.topLeft,bottomLeftFinderPattern:r.bottomLeft,bottomRightAlignmentPattern:r.alignmentPattern},matrix:s.matrix}}return null}var Ve={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};function fe(o,e){Object.keys(e).forEach(r=>{o[r]=e[r]})}function $(o,e,r,s={}){let t=Object.create(null);fe(t,Ve),fe(t,s);let c=t.inversionAttempts==="onlyInvert"||t.inversionAttempts==="invertFirst",n=t.inversionAttempts==="attemptBoth"||c,{binarized:l,inverted:d}=te(o,e,r,n,t.greyScaleWeights,t.canOverwriteImage),i=Pe(c?d:l);return!i&&(t.inversionAttempts==="attemptBoth"||t.inversionAttempts==="invertFirst")&&(i=Pe(c?l:d)),i}$.default=$;var xo=$;export{xo as default};
//# sourceMappingURL=index.js.map
